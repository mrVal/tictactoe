#!/usr/bin/env node
"use strict";

const prompt = require('syncprompt');

const Game = require('../src/tictactoe').Game;

function startMenu() {
  let greetings = '*TICTACTOE* \nHit 1 to play against a dumb-ass AI \n' +
                  'Hit 2 for two-player mode \nHit 0 to quit\n';

  const modes = [function() {process.exit()},
                 function() {new Game().play(true)},
                 function() {new Game().play(false)}];

  let input = prompt(greetings);

  if(modes[input] !== undefined) {
    modes[input]();
  }

  return input;
}

while(startMenu());
